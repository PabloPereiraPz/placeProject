import{a as A}from"./chunk-H3WX5I2W.js";import{a as w,b as u,c as I,d as L,e as N,g as c,i as _,j as M,k as q,l as T,m as O,n as R,o as j,q as z,s as k}from"./chunk-LVNUYZTG.js";import{$ as m,A as d,La as C,Q as n,T as b,U as x,V as g,Y as p,ba as t,ca as e,da as s,fa as S,ia as i,ka as y,va as F,wa as E,xa as h}from"./chunk-E2IYHHLH.js";function V(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function P(o,a){if(o&1&&(t(0,"option",9),i(1),e()),o&2){let r=a.$implicit;m("value",r.nome),n(),y(" ",r.nome," ")}}function B(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function $(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function H(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function J(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}var f=class o{constructor(a,r){this.categoriasService=a;this.lugarService=r;this.camposForm=new N({nome:new c("",u.required),categoria:new c("",u.required),localizacao:new c("",u.required),urlFoto:new c("",u.required),avaliacao:new c("",u.required)})}camposForm;categorias=[];ngOnInit(){console.log("carregando categorias API, teste."),this.categoriasService.listarTodas().subscribe({next:a=>this.categorias=a})}salvar(){this.camposForm.markAllAsTouched(),this.camposForm.valid&&this.lugarService.salvar(this.camposForm.value).subscribe({next:a=>{console.log("Lugar salvo com sucesso!",a),this.camposForm.reset()},error:a=>console.error("Erro ao salvar o lugar",a)})}isCampoInvalido(a){let r=this.camposForm.get(a);return r?.invalid&&r?.touched&&r?.errors?.required}static \u0275fac=function(r){return new(r||o)(b(k),b(A))};static \u0275cmp=x({type:o,selectors:[["app-lugar"]],standalone:!1,decls:47,vars:12,consts:[[1,"p-6","max-w-lg","mx-auto","bg-white","shadow-lg","rounded-lg","mt-6"],[1,"text-2x1","font-semibold","text-gray-700","mb-4"],["id","lugarForm",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","nome",1,"block","text-gray-600","font-medium","mb-2"],["type","text","id","nome","name","nome","formControlName","nome","placeholder","Praia da Pipa","required","",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:ring-blue-400","outline"],["class","text-red-500 text-sm",4,"ngIf"],["for","categoria",1,"block","text-gray-600","font-medium","mb-2"],["name","categoria","id","categoria","formControlName","categoria",1,"w-full","p-3","border","border-gray-300","shadow-sm","focus:","outline-none","focus:","ring","focus:","ring-blue-400"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","localizacao",1,"block","text-gray-600","font-medium","mb-2"],["type","text","id","localizacao","name","localizacao","formControlName","localizacao","placeholder","Localidade: ","required","",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:ring-blue-400","outline"],["for","urlFoto",1,"block","text-gray-600","font-medium","mb-2"],["type","text","id","urlFoto","name","urlFoto","formControlName","urlFoto","placeholder","http://exemplo.com/foto.jpg: ","required","",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:ring-blue-400","outline"],["for","avaliacao",1,"block","text-gray-600","font-medium","mb-2"],["id","avaliacao","name","avaliacao","formControlName","avaliacao",1,"w-full","p-3","border","border-gray-300","shadow-sm","focus:","outline-none","focus:","ring","focus:","ring-blue-400"],["type","submit",1,"w-full","bg-blue-500","text-white","font-semibold","p-3","rounded","shadow","hover:bg-blue-600"],[1,"text-red-500","text-sm"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"h2",1),i(2," Novo Lugar "),e(),s(3,"hr"),t(4,"form",2),S("ngSubmit",function(){return l.salvar()}),t(5,"div",3)(6,"label",4),i(7,"Nome "),e(),s(8,"input",5),p(9,V,2,0,"span",6),e(),t(10,"div",3)(11,"label",7),i(12,"Categoria "),e(),t(13,"select",8)(14,"option",9),i(15," Selecione uma categoria: "),e(),p(16,P,2,2,"option",10),e(),p(17,B,2,0,"span",6),e(),t(18,"div",3)(19,"label",11),i(20,"Localiza\xE7\xE3o "),e(),s(21,"input",12),p(22,$,2,0,"span",6),e(),t(23,"div",3)(24,"label",13),i(25,"Foto "),e(),s(26,"input",14),p(27,H,2,0,"span",6),e(),t(28,"div",3)(29,"label",15),i(30,"Avalia\xE7\xE3o "),e(),t(31,"select",16)(32,"option",9),i(33," Selecione uma avalia\xE7\xE3o: "),e(),t(34,"option",9),i(35," 1 - Ruim "),e(),t(36,"option",9),i(37," 2 - Regular "),e(),t(38,"option",9),i(39," 3 - Bom "),e(),t(40,"option",9),i(41," 4 - Muito bom "),e(),t(42,"option",9),i(43," 5 - Excelente "),e()(),p(44,J,2,0,"span",6),e(),t(45,"button",17),i(46," Cadastrar Lugar "),e()()()),r&2&&(n(4),m("formGroup",l.camposForm),n(5),m("ngIf",l.isCampoInvalido("nome")),n(7),m("ngForOf",l.categorias),n(),m("ngIf",l.isCampoInvalido("categoria")),n(5),m("ngIf",l.isCampoInvalido("localizacao")),n(5),m("ngIf",l.isCampoInvalido("urlFoto")),n(7),m("value",1),n(2),m("value",2),n(2),m("value",3),n(2),m("value",4),n(2),m("value",5),n(2),m("ngIf",l.isCampoInvalido("avaliacao")))},dependencies:[F,E,_,O,R,w,T,I,L,j,M,q],encapsulation:2})};var K=[{path:"",component:f,pathMatch:"full",data:{animation:"lugares"}}],v=class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=g({type:o});static \u0275inj=d({imports:[C.forChild(K),C]})};var D=class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=g({type:o});static \u0275inj=d({imports:[h,v,z]})};export{D as LugaresModule};
